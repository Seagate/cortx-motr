<table width=100%>
  <tr>
    <td>
      Search(={{(names | filter:searchText).length}}):
      <br>
      <input class="form-control" ng-model="searchText" id="searchText">
      <br>
      Limit(={{limit}}):<br><select class="form-control"
			ng-init="limit='100'"
			ng-model="limit"
			ng-change="pageChanged()">
        <option value="100" selected>100</option>
        <option value="9999999">all</option>
      </select>
    </td>
  </tr>
</table>
<table class="table table-striped">
  <thead>
    <tr>
      <th>tid</th>
      <th>status</th>
      <th>user</th>
      <th>time</th>
      <th>workload</th>
      <th>R/W stats</th>
      <th>artifacts</th>
      <th>perf agg</th>
    </tr>
  </thead>
  <tr ng-repeat="row in names | filter:searchText | limitTo:itemsPerPage:(currentPage-1)*itemsPerPage">
      <td>{{row.task_id_short}}</td>
      <td>{{row.status}}</td>
      <td>{{row.user}}</td>
      <td>
	<table>
	  <tr ng-repeat="(key,val) in row.time">
	    <td><u>{{key}}:</u><br>{{val}}</td>
	  </tr>
	</table>
      </td>
      <td>
	<!-- WORKLOAD -->
	<table>
	  <tr>
	    <td>
	      <u>description:</u> {{row.desc}} <u>priority:</u> {{row.prio}}
	    </td>
	  <tr>
	  <tr ng-repeat="(key,val) in row.workload">
	    <td>
	      <u>{{val.cmd}}</u>
	    </td>
	  </tr>
	</table>
	<!-- <table>
	  <tr>
	    <td>
	      <u>extopts:</u>
	      <span ng-repeat="(key,val) in row.exopt">
		{{key}}={{val}}
	      </span>
	    </td>
	  </tr>
	  <tr>
	    <td>
	      <u>build_opts:</u> {{row.merobuild.build_options}} <br>
	      <span ng-if="row.merobuild.config_overrides">
		<u>mero_config_overrides:</u>
		<span ng-repeat="(key,val) in row.merobuild.config_overrides">
		  {{key}}={{val}}
		</span>
		<br>
	      </span>
	      <span ng-if="row.s3build.config_overrides">
		<u>s3_config_overrides:</u>
		<span ng-repeat="(key,val) in row.s3build.config_overrides">
		  {{key}}={{val}}
		</span>
		<br>
	      </span>
	      <u>git</u>: mero (
	      <a href="https://github.com/Seagate/cortx-motr/commit/{{row.merobuild.git}}">
		{{row.merobuild.git.substring(0,6)}}
	      </a>)<span ng-if="row.s3build.git">, s3 (
	      <a href="https://github.com/Seagate/cortx-s3server/commit/{{row.s3build.git}}">
		{{row.s3build.git.substring(0,6)}}
	      </a>)</span>
	    </td>
	  </tr>
	</table> -->
	<!-- /WORKLOAD -->
	  </td>

    <td>

	  	<table>
		<tr ng-repeat="val in row.rw_stats">
			<td>
				Write: {{val[0]}} <br>
				Read: {{val[1]}}
			</td>
		</tr>
		</table>
	</td>

      <td>

	<table>
	  <tr ng-repeat="(key,val) in row.artifacts">
	    <td><a href="{{val}}">{{key}}</a></td>
	  </tr>
	</table>
      </td>
      <td>


		<!-- <span ng-repeat="(key,val) in row.perfagg">
			<u>{{key}}:</u> <span ng-repeat="(key1,val1) in val">{{key1}}={{val1}} </span><br>
		</span> -->


		<table>
			<tr ng-repeat="(key,val) in row.perfagg">
				<td><a href="{{val}}">{{key}}</a></td>
			</tr>
		</table>
	<!-- <table>
	  <tr ng-repeat="(key,val) in row.perfagg">
		<td>{{key}}</td>
		<td>
			<table>
				<tr ng-repeat="(key1,val1) in val">
					<td>{{key1}}={{val1}}</td>
				</tr>
			</table>
		</td>
	  </tr>
	</table> -->
      </td>
  </tr>
</table>
<table width=100%>
  <tr>
    <td>
      <ul uib-pagination
	  class="pagination-sm"
	  items-per-page="itemsPerPage"
	  total-items="(names | filter:searchText).length"
	  ng-model="currentPage"
	  ng-change="toTop()"></ul>
    </td>
  </tr>
</table>
